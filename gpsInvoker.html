<!DOCTYPE html>
<html>
  <head></head>

  <body>
    <form id="gpsInvoker">
      <button type="button" onclick="invokeGPSCoords()">invoke</button>
      <textarea name="output"></textarea>
    </form>
    <script>
      let gpsInvoker = document.getElementById("gpsInvoker");
      function invokeGPSCoords() {
        try {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showInvokeResult);
          } else {
            alert("Your browser does not support geolocation");
          }
        } catch (ex) {
          gpsInvoker.output.value = ex.message;
        }
      }

      function showInvokeResult(pos) {
        alert("invoke");
        let coords = pos.coords;
        gpsInvoker.querySelector("textarea[name=output]").value = `Altitude: ${coords.altitude}\n
            Latitude: ${coords.latitude}\n
            Longtitude: ${coords.longitude}\n
            With accuracy: ${coords.accuracy} meters
            `;
        alert(gpsInvoker.output.value);
      }
    </script>
  </body>
</html>
